{
  "__inputs": [],
  "__requires": [
    { "type": "datasource", "id": "prometheus", "name": "Prometheus" },
    { "type": "panel", "name": "Timeseries", "id": "timeseries" },
    { "type": "panel", "name": "Stat", "id": "stat" }
  ],
  "annotations": {
    "list": [
      { "name": "Annotations & Alerts", "type": "dashboard", "enable": true, "datasource": "Prometheus" }
    ]
  },
  "editable": true,
  "gnetId": null,
  "graphTooltip": 0,
  "id": null,
  "iteration": 1700000000000,
  "links": [],
  "panels": [
    {
      "datasource": "Prometheus",
      "fieldConfig": { "defaults": { "color": { "mode": "thresholds" }, "mappings": [], "thresholds": { "mode": "absolute", "steps": [ { "color": "green", "value": null } ] }, "unit": "short" }, "overrides": [] },
      "gridPos": { "h": 4, "w": 6, "x": 0, "y": 0 },
      "id": 18,
      "options": { "colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": { "calcs": [ "lastNotNull" ], "fields": "", "values": false }, "textMode": "auto" },
      "targets": [ { "expr": "100 - avg(rate(node_cpu_seconds_total{job=\"alloy_system\",mode=\"idle\"}[5m])) * 100", "legendFormat": "CPU Usage", "refId": "A" } ],
      "title": "Current CPU Usage",
      "type": "stat"
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": { "defaults": { "color": { "mode": "thresholds" }, "mappings": [], "thresholds": { "mode": "absolute", "steps": [ { "color": "green", "value": null } ] }, "unit": "short" }, "overrides": [] },
      "gridPos": { "h": 4, "w": 6, "x": 6, "y": 0 },
      "id": 15,
      "options": { "colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": { "calcs": [ "lastNotNull" ], "fields": "", "values": false }, "textMode": "auto" },
      "targets": [ { "expr": "100 - (avg(node_memory_MemAvailable_bytes{job=\"alloy_system\"}) / avg(node_memory_MemTotal_bytes{job=\"alloy_system\"}) * 100)", "legendFormat": "Memory Usage", "refId": "A" } ],
      "title": "Current Memory Usage",
      "type": "stat"
    },
    {
      "datasource": "Prometheus",
      "gridPos": { "h": 4, "w": 6, "x": 12, "y": 0 },
      "id": 16,
      "fieldConfig": { "defaults": { "color": { "mode": "thresholds" }, "mappings": [], "thresholds": { "mode": "absolute", "steps": [ { "color": "green", "value": null } ] }, "unit": "short" }, "overrides": [] },
      "options": { "colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": { "calcs": [ "lastNotNull" ], "fields": "", "values": false }, "textMode": "auto" },
      "targets": [ { "expr": "avg(node_load1{job=\"alloy_system\"})", "legendFormat": "Load 1m", "refId": "A" } ],
      "title": "Load Average (1m)",
      "type": "stat"
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": { "defaults": { "color": { "mode": "thresholds" }, "mappings": [], "thresholds": { "mode": "absolute", "steps": [ { "color": "green", "value": null } ] }, "unit": "Bps" }, "overrides": [] },
      "gridPos": { "h": 4, "w": 6, "x": 18, "y": 0 },
      "id": 24,
      "options": { "colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": { "calcs": [ "lastNotNull" ], "fields": "", "values": false }, "textMode": "auto" },
      "targets": [ { "expr": "sum(rate(node_disk_read_bytes_total{job=\"alloy_system\"}[5m])) + sum(rate(node_disk_written_bytes_total{job=\"alloy_system\"}[5m]))", "legendFormat": "Disk I/O", "refId": "A" } ],
      "title": "Disk I/O Rate",
      "type": "stat"
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 10, "gradientMode": "none", "hideFrom": { "tooltip": false, "viz": false, "legend": false }, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": { "type": "linear" }, "showPoints": "never", "spanNulls": false, "stacking": { "group": "A", "mode": "none" }, "thresholdsStyle": { "mode": "off" } }, "mappings": [], "thresholds": { "mode": "absolute", "steps": [ { "color": "green", "value": null } ] }, "unit": "percent" }, "overrides": [] },
      "gridPos": { "h": 8, "w": 12, "x": 0, "y": 4 },
      "id": 6,
      "options": { "legend": { "calcs": [ "mean", "max", "last" ], "displayMode": "table", "placement": "bottom" }, "tooltip": { "mode": "multi" } },
      "targets": [ { "expr": "100 - avg(rate(node_cpu_seconds_total{job=\"alloy_system\",mode=\"idle\"}[5m])) * 100", "legendFormat": "CPU Utilization", "refId": "A" } ],
      "title": "Host CPU Utilization",
      "type": "timeseries"
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 10, "gradientMode": "none", "hideFrom": { "tooltip": false, "viz": false, "legend": false }, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": { "type": "linear" }, "showPoints": "never", "spanNulls": false, "stacking": { "group": "A", "mode": "none" }, "thresholdsStyle": { "mode": "off" } }, "mappings": [], "thresholds": { "mode": "absolute", "steps": [ { "color": "green", "value": null } ] }, "unit": "percent" }, "overrides": [] },
      "gridPos": { "h": 8, "w": 12, "x": 12, "y": 4 },
      "id": 7,
      "options": { "legend": { "calcs": [ "mean", "max", "last" ], "displayMode": "table", "placement": "bottom" }, "tooltip": { "mode": "multi" } },
      "targets": [ { "expr": "100 - (avg(node_memory_MemAvailable_bytes{job=\"alloy_system\"}) / avg(node_memory_MemTotal_bytes{job=\"alloy_system\"}) * 100)", "legendFormat": "Memory Used", "refId": "A" } ],
      "title": "Host Memory Usage",
      "type": "timeseries"
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 10, "gradientMode": "none", "hideFrom": { "tooltip": false, "viz": false, "legend": false }, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": { "type": "linear" }, "showPoints": "never", "spanNulls": false, "stacking": { "group": "A", "mode": "none" }, "thresholdsStyle": { "mode": "off" } }, "mappings": [], "thresholds": { "mode": "absolute", "steps": [ { "color": "green", "value": null } ] }, "unit": "Bps" }, "overrides": [] },
      "gridPos": { "h": 8, "w": 12, "x": 0, "y": 12 },
      "id": 25,
      "options": { "legend": { "calcs": [ "mean", "max", "last" ], "displayMode": "table", "placement": "bottom" }, "tooltip": { "mode": "multi" } },
      "targets": [
        { "expr": "sum(rate(node_disk_read_bytes_total{job=\"alloy_system\"}[5m]))", "legendFormat": "Read", "refId": "A" },
        { "expr": "sum(rate(node_disk_written_bytes_total{job=\"alloy_system\"}[5m]))", "legendFormat": "Write", "refId": "B" }
      ],
      "title": "Disk I/O",
      "type": "timeseries"
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "custom": { "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 10, "gradientMode": "none", "hideFrom": { "tooltip": false, "viz": false, "legend": false }, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": { "type": "linear" }, "showPoints": "never", "spanNulls": false, "stacking": { "group": "A", "mode": "none" }, "thresholdsStyle": { "mode": "off" } }, "mappings": [], "thresholds": { "mode": "absolute", "steps": [ { "color": "green", "value": null } ] }, "unit": "Bps" }, "overrides": [] },
      "gridPos": { "h": 8, "w": 12, "x": 12, "y": 12 },
      "id": 26,
      "options": { "legend": { "calcs": [ "mean", "max", "last" ], "displayMode": "table", "placement": "bottom" }, "tooltip": { "mode": "multi" } },
      "targets": [
        { "expr": "sum(rate(node_network_receive_bytes_total{job=\"alloy_system\",device!=\"lo\"}[5m]))", "legendFormat": "Receive", "refId": "A" },
        { "expr": "sum(rate(node_network_transmit_bytes_total{job=\"alloy_system\",device!=\"lo\"}[5m]))", "legendFormat": "Transmit", "refId": "B" }
      ],
      "title": "Network I/O",
      "type": "timeseries"
    }
  ],
  "refresh": "10s",
  "schemaVersion": 39,
  "style": "dark",
  "tags": [ "nginx", "alloy" ],
  "templating": { "list": [] },
  "time": { "from": "now-1h", "to": "now" },
  "timezone": "",
  "title": "System Overview",
  "version": 1
}

